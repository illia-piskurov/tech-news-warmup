# üì∞ –ü—Ä–æ—î–∫—Ç "TechNews Aggregator"

## –ê–≤—Ç–æ–Ω–æ–º–Ω–∏–π –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä –¢–µ—Ö–Ω—ñ—á–Ω–∏—Ö –ù–æ–≤–∏–Ω –¥–ª—è –ü—Ä–æ–≥—Ä—ñ–≤–∞–Ω–Ω—è –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏

–¶–µ–π –ø—Ä–æ—î–∫—Ç ‚Äî —Ü–µ –º—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–π, –∞–≤—Ç–æ–Ω–æ–º–Ω–∏–π –≤–µ–±-—Ä–µ—Å—É—Ä—Å, —â–æ —ñ–º—ñ—Ç—É—î —Å–∞–π—Ç —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö –Ω–æ–≤–∏–Ω. –ô–æ–≥–æ –≥–æ–ª–æ–≤–Ω–∞ –º–µ—Ç–∞ ‚Äî –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ **—Ç—Ä–∏–≤–∞–ª–∏–π —ñ —Å—Ç–∞–±—ñ–ª—å–Ω–∏–π** —Ü–∏–∫–ª –∂–∏—Ç—Ç—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ (–ø—ñ–≤ —Ä–æ–∫—É —ñ –±—ñ–ª—å—à–µ) –¥–ª—è "–ø—Ä–æ–≥—Ä—ñ–≤–∞–Ω–Ω—è" —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —Ç–∞ –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Å–∞–π—Ç—É –≤ –ø–æ—à—É–∫–æ–≤–∏—Ö —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç (–ó–∞–ø—É—Å–∫)

### 1. –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –≤–∏–º–æ–≥–∏

* **Docker** —Ç–∞ **Docker Compose**
* **–§–∞–π–ª –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó `.env`** —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è `.env`

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª **`.env`** —É –∫–æ—Ä–µ–Ω–µ–≤–æ–º—É –∫–∞—Ç–∞–ª–æ–∑—ñ —Ç–∞ –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –π–æ–≥–æ. –ó–º—ñ–Ω–Ω—ñ `G-XXXXXXX` —Ç–∞ URL-–∞–¥—Ä–µ—Å–∏ –º–∞—é—Ç—å –±—É—Ç–∏ –∑–∞–º—ñ–Ω–µ–Ω—ñ –Ω–∞ –≤–∞—à—ñ —Ä–µ–∞–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è.

| –ó–º—ñ–Ω–Ω–∞ | –û–ø–∏—Å | –ü—Ä–∏–∫–ª–∞–¥ |
| :--- | :--- | :--- |
| `DB_URL` | URL –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ SQLite (–≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞). | `sqlite:///./data/app.db` |
| `DONOR_RSS_URL` | URL RSS-—Å—Ç—Ä—ñ—á–∫–∏ –¥–æ–Ω–æ—Ä–∞ –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è. | `https://example.com/rss.xml` |
| `DONOR_SITEMAP_URL` | URL Sitemap –¥–ª—è –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è (Seeding). | `https://example.com/news/sitemap.xml` |
| `TARGET_PATH_PREFIX` | –ü—Ä–µ—Ñ—ñ–∫—Å –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó —Å—Ç–∞—Ç–µ–π —ñ–∑ Sitemap (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ–≥–æ —Ä–æ–∑–¥—ñ–ª—É). | `https://example.com/news/` |
| `FETCH_INTERVAL_MIN` | –Ü–Ω—Ç–µ—Ä–≤–∞–ª (—É —Ö–≤–∏–ª–∏–Ω–∞—Ö) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω—å –Ω–æ–≤–∏–Ω. | `180` (3 –≥–æ–¥–∏–Ω–∏) |
| `GA_MEASUREMENT_ID` | –í–∞—à —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π ID –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è Google Analytics 4 (`G-XXXXXXX`). | `G-XXXXXXXXXX` |
| `USER_AGENT` | –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –¥–ª—è HTTP-–∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –¥–æ–Ω–æ—Ä–∞. | `"Mozilla/5.0 (Windows NT 10.0; ...)"` |
| `MAX_ARTICLES` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–∞—Ç–µ–π, —â–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö. | `20` |
| `ARTICLES_PER_PAGE` | –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–∞—Ç–µ–π, —â–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –Ω–∞ –æ–¥–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ. | `10` |
| `MAX_ARTICLES_TO_SEED` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–∞—Ç–µ–π, —è–∫—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø—Ä–∏ Seeding. | `100` |

### 3. –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫—É

–î–ª—è –∑–∞–ø—É—Å–∫—É –ø—Ä–æ—î–∫—Ç—É –≤–≤–µ–¥—ñ—Ç—å —Ü—ñ –∫–æ–º–∞–Ω–¥–∏ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ.

#### –ö—Ä–æ–∫ A. –ó–±—ñ—Ä–∫–∞ –æ–±—Ä–∞–∑—É
–°—Ç–≤–æ—Ä—é—î–º–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–∏–π –æ–±—Ä–∞–∑ –Ω–∞ –æ—Å–Ω–æ–≤—ñ `Dockerfile`.
```bash
docker compose build
```

#### –ö—Ä–æ–∫ B. –ü–æ—á–∞—Ç–∫–æ–≤–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (Seeding)
–ó–∞–ø—É—Å–∫–∞—î–º–æ —Å–∫—Ä–∏–ø—Ç-—Å–∏–¥–µ—Ä. –í—ñ–Ω –∑–∞–ø–æ–≤–Ω–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–∏—Ö —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏ (–¥–æ MAX_ARTICLES_TO_SEED). –§–ª–∞–≥ --rm –≤–∏–¥–∞–ª—è—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è.
```bash
docker compose run --rm seeder
```

#### –ö—Ä–æ–∫ C. –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É
–ó–∞–ø—É—Å–∫–∞—î–º–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä FastAPI —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ (-d). –í—ñ–Ω –ø–æ—á–Ω–µ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞—Ç–∏ —Ç—Ä–∞—Ñ—ñ–∫ —Ç–∞ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –Ω–æ–≤–∏–Ω–∏.
```bash
docker compose up -d fastapi-app
```
–î–æ–¥–∞—Ç–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é: http://localhost:8000

## üí° –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É
–ü—Ä–æ—î–∫—Ç –ø–æ–≤–Ω—ñ—Å—Ç—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–∏–π —ñ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –¥–≤–æ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤:

fastapi-app: –û—Å–Ω–æ–≤–Ω–∏–π –≤–µ–±-—Å–µ—Ä–≤—ñ—Å (Uvicorn) –Ω–∞ –±–∞–∑—ñ FastAPI, —â–æ –æ–±—Å–ª—É–≥–æ–≤—É—î –∑–∞–ø–∏—Ç–∏.

seeder: –û–¥–Ω–æ—Ä–∞–∑–æ–≤–∏–π —Å–µ—Ä–≤—ñ—Å –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –ë–î.

–ü–æ—Å—Ç—ñ–π–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö: –§–∞–π–ª –±–∞–∑–∏ –¥–∞–Ω–∏—Ö SQLite –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –∑–∞–≤–¥—è–∫–∏ bind mount (./app:/app/app) —ñ –¥–æ—Å—Ç—É–ø–Ω–∏–π –æ–±–æ–º —Å–µ—Ä–≤—ñ—Å–∞–º, –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –º—ñ–∂ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏.