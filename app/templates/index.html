{% extends "base.html" %}

{% block content %}

<ul>
    {% for article in articles %}
    <li>
        <a href="/news/{{ article.id }}">{{ article.title }}</a>
        <p>{{ article.summary }}</p>
        {% if article.image_url %}
        <img src="{{ article.image_url }}" alt="Image" width="300">
        {% endif %}
        <br>
        <small>{{ article.pub_date }}</small>
    </li>
    {% endfor %}
</ul>

{% if total_pages > 1 %}
<div class="pagination">

    {% if current_page > 1 %}
    <a href="?page={{ current_page - 1 }}" class="page-link">&laquo; Предыдущая</a>
    {% else %}
    <span class="page-link disabled">&laquo; Предыдущая</span>
    {% endif %}

    {% for p in range(1, total_pages + 1) %}
    {% if p == current_page %}
    <span class="page-link current-page">{{ p }}</span>
    {% else %}
    <a href="?page={{ p }}" class="page-link">{{ p }}</a>
    {% endif %}
    {% endfor %}

    {% if current_page < total_pages %} <a href="?page={{ current_page + 1 }}" class="page-link">Следующая &raquo;</a>
        {% else %}
        <span class="page-link disabled">Следующая &raquo;</span>
        {% endif %}

</div>
{% endif %}

{% endblock %}